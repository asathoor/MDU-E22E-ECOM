<?php
 function render_block_core_button( $attributes, $content ) { $p = new WP_HTML_Tag_Processor( $content ); $tag = null; while ( $p->next_tag() ) { $tag = $p->get_tag(); if ( 'A' === $tag || 'BUTTON' === $tag ) { break; } } if ( null === $tag ) { return $content; } $is_empty = true; while ( $p->next_token() && $tag !== $p->get_token_name() && $is_empty ) { if ( '#comment' !== $p->get_token_type() ) { $is_empty = false; } } if ( $is_empty ) { return ''; } return $content; } function register_block_core_button() { register_block_type_from_metadata( __DIR__ . '/button', array( 'render_callback' => 'render_block_core_button', ) ); } add_action( 'init', 'register_block_core_button' ); 